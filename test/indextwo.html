<!DOCTYPE html>

<html>

<head>

    <style>
        canvas {

            border: 1px dashed black;

        }
    </style>

    <script src="../fabric.js"></script>

    <script src="../jquery-3.3.1.min.js"></script>

    <script>
        var canvas;



        window.onload = function () {

            canvas = new fabric.Canvas('canvas');



            var rect1 = new fabric.Rect({
                top: 50,
                left: 50,
                width: 70,
                height: 70,
                fill: 'red'
            });

            canvas.add(rect1);

            var rect2 = new fabric.Rect({
                top: 50,
                left: 150,
                width: 70,
                height: 70,
                fill: 'red'
            });

            canvas.add(rect2);

            var rect3 = new fabric.Rect({
                top: 50,
                left: 250,
                width: 70,
                height: 70,
                fill: 'red'
            });

            canvas.add(rect3);



            //在canvas上层对象上添加右键事件监听

            $(".upper-canvas").contextmenu(onContextmenu);

        }



        //右键点击事件响应

        var onContextmenu = function (event) {

            var pointer = canvas.getPointer(event.originalEvent);

            var objects = canvas.getObjects();

            for (var i = objects.length - 1; i >= 0; i--) {

                var object = objects[i];

                //判断该对象是否在鼠标点击处

                if (canvas.containsPoint(event, object)) {

                    //选中该对象
                        console.log(1)
                        object.set({
  borderColor: 'green',
  cornerColor: 'green',
  cornerSize: 6
});
                    canvas.setActiveObject(object);


                }

            }



            //阻止系统右键菜单

            event.preventDefault();

            return false;

        }
    </script>

</head>

<body>

    <canvas id="canvas" width="450" height="200"></canvas>

</body>

</html>